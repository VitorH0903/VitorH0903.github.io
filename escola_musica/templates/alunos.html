{% extends 'base.html' %}

{% block title %}Escola de Musica{% endblock %}

{% block content %}

<h3 class="texto-branco">Adicionar Aluno</h3>
<form action="{{ url_for('adicionar_aluno') }}" method="post">
    <div class="form-group">
        <label class="texto-branco" for="nome">Nome:</label>
        <input type="text" class="form-control" name="nome" required>
    </div>

    <div class="form-group">
        <label class="texto-branco" for="idade">Idade:</label>
        <input type="number" class="form-control" name="idade" required>
    </div>

    <div class="form-group">
        <label class="texto-branco" for="instrumento">Instrumento:</label>
        <input type="text" class="form-control" name="instrumento" required>
    </div>

    <div class="form-group">
        <label class="texto-branco" for="id_professor">Nome do Professor:</label>
        <select name="id_professor" class="form-control" required>
            {% for professor in professores %}
            <option value="{{ professor[0] }}">{{ professor[1] }} - {{ professor[2] }}</option> <!-- Nome e instrumento -->
            {% endfor %}
        </select>
    </div>

    <button type="submit" class="btn btn-adicionar">Adicionar Aluno</button>

<h2 class="texto-branco">Lista de Alunos</h2>

<button class="btn btn-toggle" onclick="toggleAlunos()">Mostrar/Esconder Alunos</button>

<div id="alunos-lista" style="display:block;">
    <table class="table table-striped mt-3">
        <thead>
            <tr>
                <th>Nome</th>
                <th>Idade</th>
                <th>Instrumento</th>
            </tr>
        </thead>
        <tbody>
            {% for aluno in alunos %}
            <tr>
                <td>{{ aluno[1] }}</td> <!-- Nome do aluno -->
                <td>{{ aluno[2] }}</td> <!-- Idade do Aluno-->
                <td>{{ aluno[3] }}</td> <!-- Instrumento -->
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<a href="{{ url_for('index') }}" class="btn btn-voltar mt-3">Voltar à Página Inicial</a>

</form>

<script>
function toggleAlunos() {
   var listaAlunos = document.getElementById("alunos-lista");
   if (listaAlunos.style.display === "none") {
       listaAlunos.style.display = "block";
   } else {
       listaAlunos.style.display = "none";
   }
}
</script>

{% endblock %}